# -*- coding: utf-8 -*-
"""dataset_module.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/175yH1Kbu7SQ6sB9B9aqVtJA6XppoYpzb

**Data Handler Module - Initiated: 13th March 2025 | Finalized: 13th March 2025**

This module highlights the principles of modularity and abstraction by organizing CSV data retrieval into a flexible function, enhancing maintainability and encouraging code reuse.
"""

def fetchData(filename):
  try:
    with open(filename, 'r') as f:
      cols = f.readline().strip().split(',')
      dataset = {}
      for line in f:
        rows = line.strip().split(',')
        if len(rows) == len(cols):
          record = {}
          for i in range(len(cols)):
            record[cols[i]] = rows[i]
          dataset[rows[0]] = record
      return dataset

  except FileNotFoundError:
        print(f"Error: File not found at {filename}")
        return None
  except Exception as e:
        print(f"An error occurred: {e}")
        return None

# from google.colab import files
# uploaded = files.upload()

# ls # To print all the files which are uploaded during this session

# fetchData('data.csv') # Passing the File name as an argument which we got from above code